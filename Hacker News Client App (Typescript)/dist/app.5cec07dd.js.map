{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/app.ts"],"names":[],"mappings":";;;;ICAA;AACA;AEDa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,AFCb,IAAA,GEDa,CAAA,AFCb,WEDa,GAAc,wCAAd;AFCb;AAAA,YAAA;AAME,WAAA,IAAA,CAAY,WAAZ,EAAiC,QAAjC,EAAiD;AAC/C,QAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAT,CAAwB,WAAxB,CAAzB;AMTJ,IAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;ANUI,AKVJ,IAAA,ILUQ,CAAC,aKVT,GLUI,AKVJ,ELU2B,KKV3B,CAAA,oBAAA,CAAA;ACCA,ANUM,IMVN,MAAA,ENUY,CMVZ,OAAA,CAAA,QAAA,CAAA,EAGA,UNOM;AACD,AKZI,MAAA,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AAAA,EAAA,UAAA,EAAA,IAAA;ACKT,ANSI,AKdK,EAAA,ECKH,CDLG,EAAA,ECKE,ANSF,GMTY,MNSjB,GAAiB,CKdZ,eLcL;AMRF,ANSE,AKfK,ECMP,ONSO,EKfA,ECMI,EAAE,CADM,CNUjB,GAAgB,MKfX,CAAA,CLeL,iBKfK,CAAA,CAAA,OAAA;ACOP,ANSE,AKhBY,ECOd,KAAK,EAAE,ANSA,QAAL,GAAgB,EAAhB;AMXiB,ANYjB,AKjBK,CCKT,ADLS,QLiBA,cAAL,GAAsB,QAAtB;AMFJ,ANGG,MMHG,CAAC,KAAP,GAAe,KAAf;AACA,ADfA,ICeM,ADfN,MCeY,GAAW,IAAI,GDf3B,GAAA,ECe2B,CAAA,IDf3B,CAAA,ECeuB,EAAvB,cDfA,CAAA;ACgBA,APdA,ACiBY,EAAA,EMHN,APdN,ECiBY,CAAA,GDjBZ,MOckB,ANGN,CAAA,EMHS,IAAI,INGb,EMHa,CAAA,ANGvB,YMHmB,ANGnB,CMHoC,MAAjB,CAArB;AACA,APfA,ACkBI,AKpBK,ICiBH,EDjBG,CAAA,ELoBA,SMHW,ANGhB,CAAe,EMHI,ADjBd,CAAA,GCiBkB,GNGvB,CKpBK,ECiBkB,ANGI,AKpBtB,CCiBkB,INGS,SKpB3B,CCiBc,CAAmB,ADjBjC,GLoBL,GMHmB,CAAvB;AAEA,APjBA,ACmBI,AKrBK,EAAA,ICmBH,CAAC,ENEE,GDnBT,AMFS,EAAA,IAAA,GCmBT,CAAsB,CNElB,GAAsB,KAAK,GMF/B,KNEI;AMDJ,APdE,ACgBC,AKtBM,EAAA,CLmBG,EKnBH,CCoBH,CAAC,ADpBE,INMP,MAAA,EOcF,CAAoB,APdlB,EMNO,MCoBT,EAA8B,YAA9B;AACA,APdI,AMPK,INOL,EOcE,CAAC,GPdG,CAAC,AMPF,QCqBT,CAAoB,MDrBX,CNOL,AMPK,CCqBT,APd4B,EOcE,UPd1B,EAAsC,CMPjC,CCqBT,ADrBS,CAAA,ENOsC,KAAL,AMPjC,CNO4C,IAAX,CAAgB,IAAhB,CAAtC,EADF,CACgE;AOgBlE,ANCY,AKxBI,ELwBJ,IMDN,ANCM,CMDL,ANCK,KMDZ,INCY,CAAA,OAAA,GAAV,UAAkB,UAAlB,EAAoC;ADhBlC,ACiBA,AKzBK,CAAA,QNQA,ACiBA,QAAL,CAAc,CDjBd,GAAkB,ACiBlB,CAAmB,CDjBnB,SCiBA;ADhBA,ACiBD,GAFS,MDfH,YAAL,GAAoB,IAApB;AACD;ACkBO,EAAA,IAAA,CAAA,SAAA,CAAA,aAAA,GAAR,YAAA;ADhBA,ACiBE,EDjBF,MAAA,CAAA,ACiBO,QAAL,CDjBF,CAAA,CCiBkB,EAAhB,WDjBF,GAAA,UAAe,IAAf,EAAyB;AACvB,ACiBD,GAFO,MDfD,YAAL,GAAoB;AEZxB,AFY0B,IEZ1B,EFY0B,CEZ1B,GFY8B,EAAE,EAAR;AEZxB,AFYoC,ACmBxB,EAAA,IDnBwB,ACmBxB,CAAA,GDnB4B,EAAE,ICmB9B,CAAA,OAAA,GAAV,YAAA;AC/BF,AFYwB,ACoBpB,KDpBA,GCoBM,IChCV,IDgCkB,GAAG,KAAK,QAAL,CAAc,IAAd,CAAmB,EAAnB,CAAjB;AC7BF,AFUC,ACoBC,GDtBF,MCsBO,EC9BP,GAAA,CAAY,GAAZ,EAAuB,ED8BrB;AC7BA,AD8BA,SC9BK,ED8BE,CC9BP,GAAW,GAAX,CD8BA;AC7BA,AFUF,ACoBC,AGrCH,ACAA,ELiBE,CCgBU,CGjCZ,ACAA,ILiBE,CEVO,AFUP,CIjBF,ACAA,GHOI,AEPJ,ACAA,GHOgB,EFUd,CAAA,CEVkB,QEPpB,ACAA,CDAA,ACAA,ELiBE,GEVc,AFUd,EEVE,AEPJ,ACAA,CDAA,ACAA,OLiBe,IAAb,EAA2B,CIjB7B,ACAA,CDAA,ACAA,CDAA,ACAA,CLiBE,EAAqC;AETpC,AFUC,SAAK,UAAL,CAAgB,IAAhB,CAAqB;AAAE,ACqBf,AGtCZ,ACAA,EJsCY,EGtCZ,ACAA,ELiB2B,ACqBf,CAAA,EGtCZ,ACAA,CLiB+B,EAAA,AIjB/B,ACAA,ILiByB,ACqBb,CAAA,EGtCZ,ACAA,CDAA,ACAA,YJsCY,CGtCZ,ACAA,CDAA,ACAA,CJsCE,UAA0B,GAA1B,EAAuC,KAAvC,EAAoD;AC7B1C,AFQqB,ACsB7B,EC9BQ,GAAA,CAAA,AFQqB,GCsBxB,CDtB4B,EAAA,GERzB,CAAA,OD8BR,GC9BQ,AD8Bc,GC9BxB,ED8B6B,UC9B7B,ID8BwB,CAAoB,OAApB,CAA4B,SAAO,GAAP,GAAU,MAAtC,EAA8C,KAA9C,CAAtB;AC7BA,AFOqB,ACuBtB,AGtCH,ACAA,GJoCY,CGpCZ,ACAA,CLeI,IEPK,GERT,ACAA,CHQI,CAAU,CERd,ACAA,GHQI,CAAe,GERnB,ACAA,CDAA,ACAA,CHQI,EAAsB,KAAK,GAA3B,AERJ,ACAA,CDAA,ACAA,CHQoC,KAAhC;AACA,AFOD,GAFD,MELO,IAAL,CAAU,IAAV;AAEA,AD8BJ,AGvCA,ACAA,IDAM,ACAA,KJuCN,EC9BW,CETG,ACAA,CJuCd,EC9Be,AETE,ACAQ,CHST,KAAL,CAAW,KAAK,IAAL,CAAU,QAArB,CAAP,quBGTJ,oHDAA;AFUG,AFMD,ACnBF,CAAA,CDmBE,CEXU,ADRZ,KDmBE,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AIeF,ACJA,IDIA,ACJA,YAAA,EDIA;AFpBA,AEoBA,ACJA,SHhBA,GAAA;AAdA,AFoBI,AIcJ,ACJA,CH9BA,EAAA,KFoBU,EIcV,ACJA,MDIA,ACJA,CLVmB,CIcnB,ACJA,ELVsB,QAAQ,CAAC,IAA3B;AIcwC,ACJF,EDIE,ACJF,SDIE,ACJF,CDIE,ACJF,YAAA,EDIE,ACJF,EDIE,ICJF,CAAA,CDIE,CAAA;AFlC/B,AFqBT,OErBS,CAAA,AFqBL,GErBK,GAAA,GAAA,AFqBI,KAAK,EAAd,IAAoB,KAAK,YAA7B,EAA2C;AACzC,AIaJ,ACDA,WLZS,AIaT,ACDA,YLZI,AKYJ,CLZsB,AKYV,CDCZ,CAAY,EJbR,CAAuB,MAAvB,AKYJ,EDCA,ACD+B,EDCA;AFnBjC,AFOK,AKWH,IHlBF,IGkBE,GDEE,ECFF,EHlBF,CGmBI,CDCA,CAAA,IAAA,ACDA,CDCA,ACDA,IDCA,ACDA,CAAA,CDCM,GCDN,EAAM,MDCN,EAAmB,GCDnB,EAAmB,GDCnB,KAA4B,ACD5B,KAA4B,IAD9B;AHlBF,AEqBG;AFrBH,AGqBI,IAAA,KAAI,CHrBR,AGqBS,GAAL,GHrBJ,AGqBe,EHrBf,EGqBmB,KAAA,CAAA,WAAJ,CAAgB,QAAA,CAAA,QAAhB,CAAX;AHrB6B,AFS7B,AIcF,ACDE,EHtB6B,AEuB/B,ECDE,KAAI,CAAC,CHtBwB,AFSL,CETK,GFSL,AKaxB,CDCF,CJd0B,AIc1B,CCDe,ELbW,GETK,CGsBV,CHtBU,AGsBT,CDCtB,CAAA,CJd0B,CAAA,CKaX,CHtBgB,AGsBH,CHtBG,CEuB/B,CJd+B,EIc/B,ACDE,QLbwB,CAAA,EAAe,CIczC,CJdyC,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAuC,CAAA,EAAA,CAAA,IAAvC,EAAuC,EAAA,GAAA,EAAA,CAAA,IAAA,EAAvC,EAAyC;AAApC,AIeL,QAAM,EAAE,EJfG,CIeA,QJfS,AIeD,CAAC,EJfA,EAAA,AIeT,CJfS,AIeK,KJfpB,IIeM,CAAwB,CAAxB,CAAX;AFxBJ,AEyBI,ACDA,QDCM,ACDF,GHxBR,AEyBa,ECDD,CDCI,ACDH,IDCO,CCDZ,CAAW,EHxBnB,CEyBoB,CAAA,CFzBpB,CGwBQ,KAAsB,CAA1B,EAA6B,GDCjB,CAAkB,QAAA,CAAA,WAAA,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ;AJfE,AIgBF,ACDE,MAAA,EDCI,GCDA,CLfA,AKeC,KAAL,CDCc,ECDD,CLfA,AIgBgB,CJhBf,EIgBkB,CAAC,CCDd,CAAC,ELfhB,CAAkB,EIgBO,ACDhB,CAAa,CDC5B,ICDe,CLfkB,CAAC,CKeE,GLf9B,EKekC,CAAC,ELfE,CAAzC,AKekC,CAAS,CLfC,MKeV,EAAlC;AHrBL,AFOO,UAAA,SAAS,CAAC,IAAV,CAAe,MAAf;AACA,AIgBJ,ACFE,MAAA,GDEG,ECFC,CAAC,CDEE,CAAC,GAAG,CAAb,EAAgB,CAAC,ACFf,GDEkB,MAAM,CAAC,KAAP,CAAa,KAAb,CAAmB,MAAvC,EAA+C,CAAC,EAAhD,EAAoD;AF3BtD,AFYK,AIgBD,ACFD,EH1BH,QE4BQ,GF5BR,CAAA,EE4Bc,CAAC,KAAP,CF5BR,AE4BqB,CF5BrB,IE4BQ,CAAmB,CAAnB,CF5BR,CE4B8B,EF5B9B,AE4BQ,KAA6B,MAAM,CF5B3C,AE4B4C,EAAD,CAAvC,EAA6C;AF3B/C,AFYC,AIgBG,QAAA,GF5BG,GE4BG,CAAC,CF5BC,IE4BR,CAAa,KF5BV,AE4BH,CAAmB,CF5BvB,AE4BI,EAAsB,IAAtB,GAA6B,IAA7B;AF3BL,AE4BK,GF9BN;AE+BK,ACJJ;AHxBH,AE6BK,SF7BL,WAAA;AAJA,AG8BE,CH9BF,CAAiC,AG8B/B,GH9BF,CAAA,QG8BE,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;ADKE,ACJA,IAAA,KDIK,CCJC,CAAC,KAAP,CAAa,ODIb,CAAqB,GCJrB,GAA2B,IDI3B,EAAiC,ACJA,CAAC,IDII,ICJI,CAAC,IAAT,CAAc,CDIf,CAAiB,ICJhB,CAAqB,CAArB,IDI0B,CAAC,ACJA,CAA5B,CAAjC,MDIiC,CAAjC;AFnCS,AEoCT,OFpCS,CAAA,CEoCJ,UFpCI,GAAA,EEoCT,CAAqB,QFpCZ,KEoCT,EAAoC,MAAM,CAAC,MAAM,CAAC,KAAP,CAAa,WAAd,CAA1C;AACA,ACJA,SDIK,ACJA,IAAI,CAAC,GAAG,CAAC,MDId,ACJoB,CDIC,ACJA,KAAP,CAAa,CDI3B,EAA8B,QCJhB,EDI0B,CAAC,ACJA,CAA5B,IDIb,ACJ8C,EAA9C,EAAkD,CAAC,GAAG,MAAM,CAAC,KAAP,CAAa,WAAb,GAA2B,EAAjF,EAAqF,CAAC,EAAtF,EAA0F;AH3B9F,AEgCI,ACJE,IH5BN,KEgCS,QFhCT,OEgCI,CAAqB,SAArB,EAAgC,UAAU,CAAC,OAA3C;AFhCJ,AEkCI,ACLQ,SDKH,CCLG,EAAA,GAA8D,IDKtE,CCL2E,KAAL,CAAW,CAAX,CAA9D;AH7BZ,AEmCG,ACNS,GDZV,OFjBF,AG6Bc,EAAE,GAAA,CH7BhB,CG6BgB,CH7BhB,AG6BgB,EAAJ;AH7BuB,AG6BvB,EH7BuB,QG6BjB,CH7BiB,CAAA,GG6BZ,GAAA,EAAA,CAAA,IH7BY,CG6BvB,CH7BuB,MAAA,CAAA;AFShC,AI4BD,ACRU,EDQV,CJxCA,OKgCuB,MDQvB,CAAA,OCRqC,EDQrC,CAAA,ACRqC,EAAA,CAAA,QDQrC,GAAA,GCRU,ODQE,QAAZ,EAAmC;AFrCrC,AEsCI,ACTQ,SDSH,CCTgC,CH7BzC,EEsCa,CAAC,ACT+B,GDS5B,ACT4B,CDSzC,CCTyC,CDSzB,ACTyB,CDSxB,GFtCrB,AEsCwB,ACTZ,GH7BZ,KEsCgC,CAAC,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AJ5B9C,AI6BM,ACVM,SLnBZ,CI6BY,ACVmC,KLnB/C,CKmBqD,CDUlC,ECVkC,CDUlB,CCVkB,CAAA,MDUV,ACV/B,CDUgC,CAAD,CAArC;AFnCL,AFzBD,AI8DM,ACZM,CLlDZ,EAAA,OKkDuD,CDY5C,OAAL,ACZyD,CDY5C,ECZ4C,EAAA,CAAA,QAAnD,+BDa0B,OAAO,CAAC,KAAR,GAAgB,EADnC,GACqC,8IADrC,GAIK,OAAO,CAAC,IAJb,GAIiB,YAJjB,GAI8B,OAAO,CAAC,QAJtC,GAI8C,+DAJ9C,GAMoB,OAAO,CAAC,OAN5B,GAMmC,wCANhD;ACZM,UAAqD,IAAI,GAAA,EAAA,CAAA,IAAzD;AH5BV,AEkDI,ACrBA,EH7BJ,QEkDQ,CCrBC,IH7BT,CAAA,CEkDe,CAAC,ACrBZ,CAAa,MH7BjB,CAAA,AEkDQ,CAAiB,MFlDzB,AEkDQ,GFlDR,AEkDkC,CAA9B,EAAiC,SFlDrC,MG8B0B,IAAI,GAAG,YAAH,GAAkB,UAD/B,IACyC,+LADzC,GAIe,EAJf,GAIiB,KAJjB,GAIsB,KAJtB,GAI2B,oKAJ3B,GAO8D,cAP9D,GAO4E,wNAP5E,GAYoC,IAZpC,GAYwC,kEAZxC,GAaqC,MAbrC,GAa2C,kEAb3C,GAcqC,QAdrC,GAc6C,oFAd1D;AH5BF,AEkDI,ACHH,WH/CM,EEkDE,GFlDG,IEkDR,CAAa,KFlDV,AEkDe,EFlDtB,SEkDiB,CAAiB,OAAO,CAAC,QAAzB,CAAb;AFjDL,AEkDI,GFpDL;AEqDG,ACHD,QAAM,QAAQ,GAAG,KAAK,KAAL,CAAW,MAAX,GAAoB,EAArC;AH/CJ,AGiDI,SHjDJ,AGiDS,aHjDT,EGiDI,CAAqB,WAArB,EAAkC,KAAK,OAAL,EAAlC;AHrDJ,AEwDI,ACDA,CHvDJ,CAAmC,GAAnC,CAAA,GGuDS,EDCE,KAAK,OAAL,CCDP,CDCA,ACDqB,WAArB,EAAkC,MAAM,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,GAA2B,CAA3B,GAA+B,MAAM,CAAC,KAAP,CAAa,WAAb,GAA2B,CAA1D,GAA8D,CAA/D,CAAxC;ADED,ACDC,GDnBF,MCmBO,eAAL,CAAqB,WAArB,EAAkC,MAAM,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,GAA2B,QAA3B,GAAsC,MAAM,CAAC,KAAP,CAAa,WAAb,GAA2B,CAAjE,GAAqE,QAAtE,CAAxC;AHxDS,AG0DT,OH1DS,CAAA,CG0DJ,UAAL,EH1DS,GAAA,aAAA;AE0Db,ACCG,GAnCD,MDkCF,cAAA;AA9CA,CAAA,CAA4C,MAAA,CAAA,OAA5C,CAAA;ACiDE,EAAA,YAAA,CAAA,SAAA,CAAA,SAAA,GAAA,YAAA;AACE,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,KAAL,CAAW,MAA/B,EAAuC,CAAC,EAAxC,EAA4C;AAC1C,WAAK,KAAL,CAAW,CAAX,EAAc,IAAd,GAAqB,KAArB;AACD;AACF,GAJD;;AAKF,SAAA,YAAA;AA1DA,CAAA,CAA0C,MAAA,CAAA,OAA1C,CAAA","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from \"../types\";\r\nimport View from \"./view\";\r\n\r\nexport default class Router {\r\n  routeTable: RouteInfo[];\r\n  defaultRoute: RouteInfo | null;\r\n\r\n  constructor() {\r\n    window.addEventListener(\"hashchange\", this.route.bind(this)); // 넘겨줄 때 현재의 this로 고정.(bind(this))\r\n    this.routeTable = [];\r\n    this.defaultRoute = null;\r\n  }\r\n\r\n  setDefaultPage(page: View): void {\r\n    this.defaultRoute = { path: \"\", page: page };\r\n  }\r\n\r\n  addRoutePath(path: string, page: View): void {\r\n    this.routeTable.push({ path, page });\r\n  }\r\n\r\n  route() {\r\n    const routePath = location.hash;\r\n    if (routePath === \"\" && this.defaultRoute) {\r\n      this.defaultRoute.page.render();\r\n    }\r\n\r\n    for (const routeInfo of this.routeTable) {\r\n      if (routePath.indexOf(routeInfo.path) >= 0) {\r\n        routeInfo.page.render();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","// View Class(공통 View 클래스)\r\n// private : (자식에서도 접근 X) View 안에서만 접근 가능\r\nexport default abstract class View {\r\n  private template: string;\r\n  private renderTemplate: string;\r\n  private container: HTMLElement;\r\n  private htmlList: string[];\r\n\r\n  constructor(containerId: string, template: string) {\r\n    const containerElement = document.getElementById(containerId);\r\n    if (!containerElement) {\r\n      throw \"최상위 컨테이너가 없어 UI를 진행할 수 없습니다.\";\r\n    }\r\n\r\n    this.container = containerElement;\r\n    this.template = template;\r\n    this.htmlList = [];\r\n    this.renderTemplate = template;\r\n  }\r\n\r\n  protected updateView(): void {\r\n    this.container.innerHTML = this.renderTemplate;\r\n    this.renderTemplate = this.template;\r\n  }\r\n\r\n  protected addHtml(htmlString: string): void {\r\n    this.htmlList.push(htmlString);\r\n  }\r\n\r\n  private clearHtmlList(): void {\r\n    this.htmlList = [];\r\n  }\r\n\r\n  protected getHtml(): string {\r\n    const snapshot = this.htmlList.join(\"\");\r\n    this.clearHtmlList();\r\n    return snapshot;\r\n  }\r\n\r\n  protected setTemplateData(key: string, value: string): void {\r\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n  }\r\n\r\n  abstract render(): void;\r\n}\r\n","import { NewsFeed, NewsDetail } from \"../types/\";\r\n\r\nexport class Api {\r\n  private url: string;\r\n  private ajax: XMLHttpRequest;\r\n  constructor(url: string) {\r\n    this.url = url;\r\n    this.ajax = new XMLHttpRequest();\r\n  }\r\n\r\n  protected getRequest<AjaxResponse>(): AjaxResponse {\r\n    this.ajax.open(\"GET\", this.url, false);\r\n    this.ajax.send();\r\n\r\n    return JSON.parse(this.ajax.response);\r\n  }\r\n}\r\n\r\nexport class NewsFeedApi extends Api {\r\n  getData(): NewsFeed[] {\r\n    return this.getRequest<NewsFeed[]>();\r\n  }\r\n}\r\n\r\nexport class NewsDetailApi extends Api {\r\n  getData(): NewsDetail {\r\n    return this.getRequest<NewsDetail>();\r\n  }\r\n}\r\n","export const NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\r\nexport const CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\r\n","import View from \"../core/view\";\r\nimport { NewsDetailApi } from \"../core/api\";\r\nimport { NewsDetail, NewsComment } from \"../types\";\r\nimport { CONTENT_URL } from \"../config\";\r\n\r\nconst template = `\r\n  <div class=\"bg-gray-600 min-h-screen pb-8\">\r\n    <div class=\"bg-white text-xl\">\r\n      <div class=\"mx-auto px-4\">\r\n        <div class=\"flex justify-between items-center py-6\">\r\n          <div class=\"flex justify-start\">\r\n            <a href=\"#/page/1\">\r\n              <h1 class=\"font-extrabold\">Hacker News</h1>\r\n            </a>\r\n          </div>\r\n          <div class=\"items-center justify-end\">\r\n            <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n              <i class=\"fa fa-times\"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n      <h1 class=\"text-4xl font-extrabold\" >{{__title__}}</h1>\r\n      <div class=\"text-gray-400 h-20\">\r\n        {{__content__}}\r\n      </div>\r\n\r\n      {{__comments__}}\r\n\r\n    </div>\r\n  </div>\r\n`;\r\n\r\nexport default class NewsDetailView extends View {\r\n  constructor(containerId: string) {\r\n    super(containerId, template);\r\n  }\r\n\r\n  render() {\r\n    const id = location.hash.substring(7);\r\n    const api = new NewsDetailApi(CONTENT_URL.replace(\"@id\", id));\r\n    const newsDetail: NewsDetail = api.getData();\r\n\r\n    for (let i = 0; i < window.store.feeds.length; i++) {\r\n      if (window.store.feeds[i].id === Number(id)) {\r\n        window.store.feeds[i].read = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.setTemplateData(\"comments\", this.makeComment(newsDetail.comments));\r\n    this.setTemplateData(\"currentPage\", String(window.store.currentPage));\r\n    this.setTemplateData(\"title\", newsDetail.title);\r\n    this.setTemplateData(\"content\", newsDetail.content);\r\n\r\n    this.updateView();\r\n  }\r\n\r\n  makeComment(comments: NewsComment[]): string {\r\n    for (let i = 0; i < comments.length; i++) {\r\n      const comment: NewsComment = comments[i];\r\n\r\n      this.addHtml(`\r\n          <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n            <div class=\"text-gray-400\">\r\n              <i class=\"fa fa-sort-up mr-2\"></i>\r\n              <strong>${comment.user}</strong> ${comment.time_ago}\r\n            </div>\r\n            <p class=\"text-gray-700\">${comment.content}</p>\r\n          </div>      \r\n        `);\r\n\r\n      if (comment.comments.length > 0) {\r\n        this.addHtml(this.makeComment(comment.comments));\r\n      }\r\n    }\r\n\r\n    return this.getHtml();\r\n  }\r\n}\r\n","import View from \"../core/view\";\r\nimport { NewsFeedApi } from \"../core/api\";\r\nimport { NewsFeed } from \"../types\";\r\nimport { NEWS_URL } from \"../config\";\r\n\r\nconst template: string = `\r\n<div class=\"bg-gray-600 min-h-screen\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <a href=\"#/page/1\">\r\n            <h1 class=\"font-extrabold\">Hacker News</h1>\r\n          </a>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n            Previous\r\n          </a>\r\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n            Next\r\n          </a>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  </div>\r\n  <div class=\"p-4 text-2xl text-gray-700\">\r\n    {{__news_feed__}}        \r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsFeedView extends View {\r\n  private api: NewsFeedApi;\r\n  private feeds: NewsFeed[];\r\n\r\n  constructor(containerId: string) {\r\n    super(containerId, template);\r\n\r\n    this.api = new NewsFeedApi(NEWS_URL);\r\n    this.feeds = window.store.feeds;\r\n\r\n    if (this.feeds.length === 0) {\r\n      this.feeds = window.store.feeds = this.api.getData();\r\n      this.makeFeeds();\r\n    }\r\n  }\r\n\r\n  render(): void {\r\n    window.store.currentPage = Number(location.hash.substr(7) || 1);\r\n\r\n    for (let i = (window.store.currentPage - 1) * 10; i < window.store.currentPage * 10; i++) {\r\n      // 구조 분해 할당\r\n      const { id, title, comments_count, user, points, time_ago, read } = this.feeds[i];\r\n      this.addHtml(`\r\n          <div class=\"p-6 ${read ? \"bg-red-100\" : \"bg-white\"} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n            <div class=\"flex\">\r\n              <div class=\"flex-auto\">\r\n                <a href=\"#/show/${id}\">${title}</a>  \r\n              </div>\r\n              <div class=\"text-center text-sm\">\r\n                <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"flex mt-3\">\r\n              <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n                <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n                <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n                <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n              </div>  \r\n            </div>\r\n          </div>    \r\n        `);\r\n    }\r\n\r\n    const lastPage = this.feeds.length / 10;\r\n\r\n    this.setTemplateData(\"news_feed\", this.getHtml());\r\n\r\n    this.setTemplateData(\"prev_page\", String(window.store.currentPage > 1 ? window.store.currentPage - 1 : 1));\r\n    this.setTemplateData(\"next_page\", String(window.store.currentPage < lastPage ? window.store.currentPage + 1 : lastPage));\r\n\r\n    this.updateView();\r\n  }\r\n\r\n  makeFeeds(): void {\r\n    for (let i = 0; i < this.feeds.length; i++) {\r\n      this.feeds[i].read = false;\r\n    }\r\n  }\r\n}\r\n","export { default as NewsDetailView } from \"./news-detail-view\";\r\nexport { default as NewsFeedView } from \"./news-feed-view\";\r\n","import Router from \"./core/router\";\r\nimport { NewsFeedView, NewsDetailView } from \"./page\";\r\nimport { Store } from \"./types\";\r\n\r\n// store을 전역으로 처리하기 (그렇게 좋은 방법은 아님..ㅎ)\r\nconst store: Store = {\r\n  currentPage: 1,\r\n  feeds: [],\r\n};\r\n\r\ndeclare global {\r\n  interface Window {\r\n    store: Store;\r\n  }\r\n}\r\nwindow.store = store;\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView(\"root\");\r\nconst newsDetailView = new NewsDetailView(\"root\");\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\nrouter.addRoutePath(\"/page/\", newsFeedView);\r\nrouter.addRoutePath(\"/show/\", newsDetailView);\r\n\r\nrouter.route();\r\n"]}